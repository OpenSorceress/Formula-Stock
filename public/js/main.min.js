/* &copy; 2014 Lindsay Roberts http://www.designbyfish.com/ */
!function(a){function b(b){return a.getJSON(b)}function c(b,c){var d=[];return a.each(c,function(a,c){d.push({x:new Date(b[a]),y:c})}),d}function d(){'<i class="fa fa-sort-desc"></i>'!=a(".edit-sub").html()&&a(".edit-sub").hasClass("activeState")?a(".edit-sub").fadeOut(function(){a(".edit-sub").html('<i class="fa fa-sort-desc"></i>'),a(".edit-sub").removeClass("activeState"),a(".edit-sub").css("top","17px")}).fadeIn():a(".edit-sub").fadeOut(function(){a(".edit-sub").html('<i class="fa fa-sort-asc"></i>'),a(".edit-sub").addClass("activeState"),a(".edit-sub").css("top","28px")}).fadeIn(),a(".subscription_menu").animate({height:"toggle",opacity:"toggle"})}if(a(".alert").slideDown(),a("#home").length){var e=["../api/pro/annually/2014.json","../api/premium/annually/2014.json","../api/platinum/annually/2014.json"],f=[];a.each(e,function(a,c){f.push(b(c))}),a.when.apply(a,f).done(function(){for(var b=[],d=0,e=arguments.length;e>d;d++)b.push(arguments[d][0]);returns=[],pro_results={},premium_results={},platinum_results={},a.each(b,function(a,b){returns.push(b.statistics.total_return)});var f=Array.min(returns),g=Array.max(returns);a.each(b,function(a,b){b.statistics.total_return==g?platinum_results=b:b.statistics.total_return==f?pro_results=b:premium_results=b});var h=[],i=[],j=[],k=[];a.each(pro_results.logs,function(a,b){var c=b.date.year+"-"+(Number(b.date.month)<10?"0"+Number(b.date.month):Number(b.date.month))+"-"+(Number(b.date.day)<10?"0"+Number(b.date.day):Number(b.date.day))+"T00:00:00Z";h.push(c),i.push(Number(b.balance))}),a.each(premium_results.logs,function(a,b){j.push(Number(b.balance))}),a.each(platinum_results.logs,function(a,b){k.push(Number(b.balance))});var l=c(h,i),m=c(h,j),n=c(h,k),o={chartPadding:5,showArea:!1,lineSmooth:!1,fullWidth:!0,axisX:{labelInterpolationFnc:function(a){return a.getFullYear()}}},p={series:[{name:"Pro Formula",data:l},{name:"Premium Formula",data:m},{name:"Platinum Formula",data:n}]},q=function(a){return{x:a.x,y:Math.log10(a.y)}},r=new Array;r[0]="January",r[1]="February",r[2]="March",r[3]="April",r[4]="May",r[5]="June",r[6]="July",r[7]="August",r[8]="September",r[9]="October",r[10]="November",r[11]="December",console.log(l,m,n);var s=new Chartist.DateAxis(Chartist.Axis.units.x,{ticksProvider:new Chartist.DateTicksProvider(Chartist.DateTicksProvider.Year)}),t=(new Chartist.LineXY("#chart",p,o,void 0,s,void 0,q),a(".ct-chart")),u=t.append('<div class="tooltip"></div>').find(".tooltip").hide();t.on("mouseenter",".ct-point",function(){console.log(n[a(this).index()-1].y);var b=a(this),c=b.parent().attr("ct:series-name");"Pro Formula"==c?u.html(c+"<br>"+l[a(this).index()-1].y).show():"Premium Formula"==c?u.html(c+"<br>"+m[a(this).index()-1].y).show():"Platinum Formula"==c&&u.html(c+"<br>"+n[a(this).index()-1].y+"<br>"+r[n[a(this).index()-1].x.getMonth()]+" "+n[a(this).index()-1].x.getFullYear()).show()}),t.on("mouseleave",".ct-point",function(){u.hide()}),t.on("mousemove",function(a){u.css({left:(a.offsetX||a.originalEvent.layerX)-u.width()/2-10,top:(a.offsetY||a.originalEvent.layerY)-u.height()-40})})}),Array.min=function(a){return Math.min.apply(Math,a)},Array.max=function(a){return Math.max.apply(Math,a)}}a("input").focus(function(){a("#get-in-touch").length||(a(".alert").slideUp(),"lastname"==this.id||"firstname"==this.id?a('label[for="firstname"]').hasClass("labelError")?"firstname"==this.id?a("#lastname").hasClass("inputError")?a(this).removeClass("inputError"):a("#lastname").hasClass("inputError")||(a('label[for="firstname"]').removeClass("labelError").addClass("labelFocus"),a(this).removeClass("inputError")):"lastname"==this.id&&(a("#firstname").hasClass("inputError")?a(this).removeClass("inputError"):(a('label[for="firstname"]').removeClass("labelError").addClass("labelFocus"),a(this).removeClass("inputError"))):a('label[for="firstname"]').addClass("labelFocus"):a('label[for="'+this.id+'"]').hasClass("labelError")?(a('label[for="'+this.id+'"]').removeClass("labelError").addClass("labelFocus"),a(this).removeClass("inputError")):a('label[for="'+this.id+'"]').addClass("labelFocus"))}).blur(function(){a("label").removeClass("labelFocus")}),a("#loginButton").click(function(b){""!=a("#username")[0].value&&""!=a("#password")[0].value||(b.preventDefault(),a("#username")[0].value||(a('label[for="username"]').addClass("labelError"),a("#username").addClass("inputError"),a("#username").is(":animated")||a('label[for="username"]').is(":animated")||(a("#username").stop(!0).effect("shake",{distance:5,times:2}),a('label[for="username"]').stop(!0).effect("shake",{distance:5,times:2}))),a("#password")[0].value||(a('label[for="password"]').addClass("labelError"),a("#password").addClass("inputError"),a("#password").is(":animated")||a('label[for="password"]').is(":animated")||(a("#password").stop(!0).effect("shake",{distance:5,times:2}),a('label[for="password"]').stop(!0).effect("shake",{distance:5,times:2}))))}),a("#registerButton").click(function(b){""!=a("#firstname")[0].value&&""!=a("#lastname")[0].value&&""!="#email"[0].value&&""!=a("#password")[0].value||(b.preventDefault(),a("#firstname")[0].value||"#lastname"[0].value?a("#firstname")[0].value?a("#lastname")[0].value||(a('label[for="firstname"]').addClass("labelError"),a("#lastname").addClass("inputError"),a("#lastname").is(":animated")||a('label[for="lastname"]').is(":animated")||(a("#lastname").stop(!0).effect("shake",{distance:5,times:2}),a('label[for="firstname"]').stop(!0).effect("shake",{distance:5,times:2}))):(a('label[for="firstname"]').addClass("labelError"),a("#firstname").addClass("inputError"),a("#firstname").is(":animated")||a('label[for="fistname"]').is(":animated")||(a("#firstname").stop(!0).effect("shake",{distance:5,times:2}),a('label[for="firstname"]').stop(!0).effect("shake",{distance:5,times:2}))):(a('label[for="firstname"]').addClass("labelError"),a("#firstname").addClass("inputError"),a("#lastname").addClass("inputError"),a("#firstname").is(":animated")||a("#lastname").is(":animated")||a('label[for="firstname"]').is(":animated")||(a("#firstname").stop(!0).effect("shake",{distance:5,times:2}),a("#lastname").stop(!0).effect("shake",{distance:5,times:2}),a('label[for="firstname"]').stop(!0).effect("shake",{distance:5,times:2}))),a("#email")[0].value||(a('label[for="email"]').addClass("labelError"),a("#email").addClass("inputError"),a("#email").is(":animated")||a('label[for="email"]').is(":animated")||(a("#email").stop(!0).effect("shake",{distance:5,times:2}),a('label[for="email"]').stop(!0).effect("shake",{distance:5,times:2}))),a("#password")[0].value||(a('label[for="password"]').addClass("labelError"),a("#password").addClass("inputError"),a("#password").is(":animated")||a('label[for="password"]').is(":animated")||(a("#password").stop(!0).effect("shake",{distance:5,times:2}),a('label[for="password"]').stop(!0).effect("shake",{distance:5,times:2}))))}),a(".edit-sub").click(function(){d()}),a("span.subscription").click(function(){d()}),a(".option_item").click(function(b){b.preventDefault(),a(".selected").removeClass("selected"),a(this).parent().addClass("selected"),"trial"==a(this).attr("href")?a("span.subscription").html("90 Day Free Trial"):"pro_month"==a(this).attr("href")?a("span.subscription").html("Pro Formula $49.95 Monthly"):"premium_month"==a(this).attr("href")?a("span.subscription").html("Premium Formula $99.95 Monthly"):"pro_year"==a(this).attr("href")?a("span.subscription").html("Pro Formula $549.95 Annually"):"premium_year"==a(this).attr("href")?a("span.subscription").html("Premium Formula $999.95 Annually"):"platinum_year"==a(this).attr("href")&&a("span.subscription").html("Platinum Formula $20,000 Annually"),d()}),a(document).ready(function(){a('a[href^="#"]').on("click",function(b){b.preventDefault(),console.log("menu clicked");var c=this.hash,d=a(c);a("html, body").stop().animate({scrollTop:d.offset().top},900,"swing",function(){window.location.hash=c})})}),a("textarea").mousemove(function(b){var c=a(this).offset();c.bottom=a(this).offset().top+a(this).outerHeight(),c.right=a(this).offset().left+a(this).outerWidth(),a(this).css(c.bottom>b.pageY&&b.pageY>c.bottom-16&&c.right>b.pageX&&b.pageX>c.right-16?{cursor:"nw-resize"}:{cursor:""})}).keyup(function(b){for((8==b.which||46==b.which)&&a(this).height(parseFloat(0!=parseFloat(a(this).css("min-height"))?a(this).css("min-height"):a(this).css("font-size")));a(this).outerHeight()<this.scrollHeight+parseFloat(a(this).css("borderTopWidth"))+parseFloat(a(this).css("borderBottomWidth"));)a(this).height(a(this).height()+1)})}(jQuery);